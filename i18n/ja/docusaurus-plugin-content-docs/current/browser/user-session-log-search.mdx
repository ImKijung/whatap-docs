---
id: user-session-log-search
title: ユーザーセッションログ検索
description: description
tags:
  - Browserモニタリング
  - 分析
  - ユーザーセッションログ検索
---

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_analysis" className="uitext" /> > <Cmdname sid="side_userSessionEventSearch" className="uitext" />

エンドユーザーがウェブページと相互作用する時に発生する性能とエラーデータ、クリックデータを収集して様々な条件で検索し、ユーザーセッションログを特定することができます。 ユーザーセッションログ情報により、エンドユーザーの経路分析、離脱原因の把握、性能とユーザーエクスペリエンスなどを分析するのに役立ちます。

<ImgLang img='browser-search-user-session-log.png' desc='ユーザーセッションログ検索' />

検索しようとする照会時間を<Cmdname sid="time" className="uitext" />オプションで設定した後、![検索アイコン](/img/ico-btn-search.png)ボタンを選択してください。 <Cmdname sid="filter" className="uitext" />項目にキー(key)と値(value)で構成した複数の検索条件を設定し、条件と一致するログデータのみを抽出することができます。 ログデータを所定のライン単位で読み込みして一覧に表示し、一覧の下部に移動すると、次のデータを自動的に読み込みして表示します。

:::tip

<Cmdname sid="side_userSessionEventSearch" className="uitext" />メニューの基本動作方式は、<Cmdname sid="side_logSearch" className="uitext" />メニューと同じです。 フィルター設定による検索方法とその他のオプションの詳細については、次の文書を参考にしてください。

- フィルター設定によるログ検索方法の詳細は、<Link to="../log/log-search#log-search-filter" target="_blank">次の文書</Link>を参考にしてください。

- タグオプションの詳細については、<Link to="../log/log-search#log-tag-options" target="_blank">次の文書</Link>を参考にしてください。

- コンテンツハイライト機能の詳細については、<Link to="../log/log-search#content-highlight" target="_blank">次の文書</Link>を参考にしてください。

- <Cmdname sid="table_settings" className="uitext" />機能の詳細については、<Link to="../log/log-search#set-table" target="_blank">次の文書</Link>を参考にしてください。

:::

:::note

この機能は、**ログ照会**権限を持つメンバーが利用できます。 メンバーのアクセス権限の体系の詳細については、[次の文書](../project/project-structure#project-auth)を参照してください。

:::

## 主な検索タグの案内{#guide-search-tag}

### \#Category {#category}

ブラウザーモニタリングで収集するユーザーセッションログは、次のように分類できます。 各**#Category**には、フィルター検索のためのタグの一覧を確認することができます。

![Category](/img/browser-search-user-session-category.png)

- **_#BrowserError_**：ウェブページで発生するソースエラー、ネットワークエラーなどを収集して提供します。

- **_#PerformanceEvent_**：ページ読み込み、AJAX、ルータ変更に関するイベントを収集して提供します。

- **_#UserEvent_**：ユーザーのクリックイベントとユーザー定義イベントを収集して提供します。

### ユーザーセッションログ{#usersessionlog}

ユーザーセッションログは、エンドユーザーの環境情報と**#Category**ごとの収集データが含まれています。 一番左の![詳細を見るアイコン](/img/ic-caret-right.svg)ボタンを選択すると、そのログを構成しているすべての内容を確認できます。

![ログメッセージ](/img/browser-search-user-session-log-content.png)

1行目の内容は、エンドユーザーの環境情報と**#Category**ごとの収集データがキー(key)と値(value)で構成されています。 キーと値は<Cmdname sid="filter" className="uitext" />項目で検索のために使用されます。 2行目は、そのユーザーセッションログのメッセージです。

![Key](/img/browser-search-user-session-tag.png)

以下は、ユーザーセッションログの主なキー(Key)についての説明です。

- `PageUrl`：イベントが発生したページのURLです。

- `userID`：イベントを発生させたユーザーIDです。 ユーザーがウェブサイトに初めてアクセスする時、ブラウザーエージェントが発行する固有のIDで、期限満了がありません。 ブラウザークッキーに保存します。

- `sessionID`：イベントを発生させたセッションIDです。 ウェブサイトでユーザーがウェブページの探索を開始した時に発行する固有IDです。 セッションの保持期間は最大4時間で、15分間続くと、ID の有効期限が切れます。 ブラウザークッキーに保存します。

- `type`：発生したイベントの種類です。

  - **pageLoad**：ウェブページの読み込み時に発生するイベント

  - **routeChange**：SPAウェブページのルート変更時に発生するイベント

  - **ajax**：AJAXリクエスト関連イベント

  - **click**：実際のユーザーがウェブページでクリックした時に発生するイベント

  - **rapid_click**：実際のユーザーが一か所の座標で素早く複数回クリックした時に発生するイベント

  - **custom**：ユーザー定義イベント

  - **browser_error**：ウェブページで発生するソースエラー、ネットワークエラーなど

:::note

- ユーザーのクリックイベント収集のためのエージェント設定オプション(`collectUserClick: true`)は、[次の文書](apply-agent#setting-agent)を参考にしてください。

- ユーザー定義イベントの収集の詳細については、[次の文書](collect-custom-events)を参照してください。

:::

## ユーザーセッションを分析する{#analysisusersession}

ユーザーセッションのログ照会一覧で<Cmdname sid="TTL07736" className="uitext" />カラムの<Cmdname sid="analysis" className="uitext" />ボタンを選択してください。 選択した項目のユーザーセッションログの詳細情報が確認できる<Cmdname sid="TTL07736" className="uitext" />ウィンドウが表示されます。

<ImgLang img='browser-search-user-session-log-analysis.png' desc='ユーザーセッション分析' />

ユーザーセッションを基準にウェブページと相互作用しながら発生させたイベントやエラーなどを時間順に確認することができます。 ユーザーセッションの分析により、次のように活用し、より良いユーザーエクスペリエンスを提供できます。

- **ページ内の行動分析**：ユーザーがウェブページを探索する方法を理解することができます。 どのように動くのか、どのページにとどまっているのか、画面のどのような要素をクリックするのかなどに関するユーザーの活動を分析することができます。 これにより、ユーザーがサイトを利用する方法についてのインサイトを得て、ユーザーの経路を分析してユーザーの行動パターンを把握することができます。

- **エラー追跡**：JavaScriptエラー、ネットワークエラーなど、ユーザーセッション中に発生するあらゆる種類の技術的問題を追跡できます。 ユーザーのクリック、ページ移動などの行動をモニタリングし、これを分析して障害が発生した原因を見つけることができます。

- **離脱原因の把握**：特定のページからユーザーが離脱する場合や、特定の作業を完了できない場合を追跡して原因を分析し、その部分を改善することで離脱率を減らすことができます。

### ユーザーセッション情報

<ImgLang img='browser-search-user-session-infomation.png' desc='ユーザーセッション情報' />

エンドユーザーのブラウザーやOS、ユーザーエージェント、ユーザーID、セッションID、クライアントIPなどの情報を照会することができます。

### ユーザーセッションフロー

ユーザーセッションに基づいて、実際のユーザーがウェブサイトと相互作用する際に発生させた性能情報やイベント、エラーを確認することができます。

<ImgLang img='browser-search-user-session-flow.png' desc='ユーザーセッションフロー' />

### イベントの詳細情報を確認する

<Cmdname sid="TTL07746" className="uitext" />一覧の<Cmdname sid="title" className="uitext" />カラムに表示されているイベントの種類は、次のように分類することができます。 各ユーザー セッションイベントを選択すると、そのイベントの詳細を確認できます。

#### <Cmdname sid="page_load" />(pageLoad)

<ImgLang img='browser-analysis-user-session-log-details-pageload.png' desc='ページロードイベント' />

ウェブページを読み込みする時に発生するイベントです。 イベント区間別の詳細時間情報と読み込みしたリソースの詳細を確認できます。 <Cmdname sid="TTL07736" className="uitext" />タブを選択すると、関連情報を連続して把握できます。

:::note

ページ読み込み分析の詳細は、[次の文書](analyze-pageload)を参考にしてください。

:::

#### <Cmdname sid="TTL07752" />(routeChange)

<ImgLang img='browser-analysis-user-session-log-details-router.png' desc='ルーター変更' />

SPAウェブページでルーター変更時に発生するイベントです。 ルーターの変更にかかった時間を確認できます。

#### <Cmdname sid="TTL07755" />(ajax)

<ImgLang img='browser-analysis-user-session-log-details-ajax.png' desc='Ajaxロードイベント' />

AJAXリクエスト関連のイベントです。 AJAXイベント区間別の詳細時間情報やAJAXリクエストURL、呼び出しページ情報、エラーメッセージなどを確認することができます。 <Cmdname sid="TTL07736" className="uitext" />タブを選択すると、関連情報を連続して把握できます。

:::note

AJAXイベント分析の詳細は、[次の文書](analyze-ajax-hitmap)を参考にしてください。

:::

#### <Cmdname sid="TTL07753" />(click) / <Cmdname sid="TTL07754" />(rapid_click)

<ImgLang img='browser-analysis-user-session-log-details-click.png' desc='クリックイベント' />

ユーザーをクリックした要素のIDであるセレクタとその要素のテキスト情報を確認することができます。 これにより、ユーザーがどのページでどの要素をクリックしたかを把握できます。

:::note

クリックイベントを収集するには、ブラウザーエージェントのオプション(`collectUserClick: true`) 設定が必要です。 詳しい内容は、[次の文書](apply-agent#setting-agent)を参考にしてください。

:::

#### <Cmdname sid="custom" />(custom)

<ImgLang img='browser-analysis-user-session-log-details-custom.png' desc='ユーザー定義イベント' />

ユーザー定義イベントで収集された情報を確認することができます。 ユーザー定義イベントの代表値であるタイトル(`name`)とContentsに含まれる情報を表示します。

:::note

ユーザー定義イベントの収集の詳細については、[次の文書](collect-custom-events)を参照してください。

:::

#### <Cmdname sid="TTL07751" />(browser_error)

<ImgLang img='browser-analysis-user-session-log-details-error.png' desc='ブラウザエラー' />

ウェブページで発生するソースエラー、ネットワークエラーなどを確認することができます。

:::note

エラー追跡の詳細は、[次の文書](tracking-error)を参考にしてください。

:::

### イベントごとにフィルタリングする

<ImgLang img='browser-analysis-user-session-log-filter.png' desc='フィルター' />

1. <Cmdname sid="TTL07746" className="uitext" />リストの右上の<LinkImage img="ico-filter.svg" desc="필터 아이콘" />ボタンを選択してください。

2. <Cmdname sid="filter" className="uitext" />リストでイベントの種類を選択してください。

3. <Cmdname sid="apply" className="uitext" />ボタンを選択してください。
