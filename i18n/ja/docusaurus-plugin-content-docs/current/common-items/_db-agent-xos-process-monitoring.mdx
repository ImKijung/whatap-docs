## プロセスモニタリング{#xos}

データベースサーバーのプロセス使用状況をモニタリングする場合、データベースサーバーに別のXOSエージェントプロセスを起動してデータを収集します。進行中のセッションのcpu usage値を確認することができます。

1.  エージェントサーバーにある_whatap.conf_ファイルに次のオプションを設定してください。

    ```ini title='whatap.conf'
    xos=[DBX_DB_SERVER_IP]
    xos_port=[DBX_PORT] (default: 3002)
    ```

    :::note

    DBサーバーのIPアドレスが特定できない場合は、`xos=1`に設定します。 

    :::

2.  xosパスをデータベースサーバーに移動してください。_解凍されたフォルダ/whatap/xos/_

3.  データベースサーバー上の_xos.conf_ファイルにエージェントサーバー情報を入力してください。

    ```ini title='xos.conf'
    dbx_ip=[DBX_AGENT_SERVER_IP]
    dbx_port=[DBX_PORT] (default: 3002)
    cpu_limit=0
    mem_limit=10240
    ```

4.  データベースサーバーで次のプロセスを実行してください。

    ```bash title='start.sh'
    $ ./start.sh
    ```

    ```bash
    #バックグラウンドで実行する場合
    $ ./startd.sh
    ```
