ホーム画面> プロジェクト選択> <Cmdname sid="side_agentsConfiguration" className="uitext" />

アプリケーションの環境を確認し、性能に関連する設定を確認できます。

## エージェントリスト

画面左側のアプリケーション一覧では、プロジェクトに割り当てられたエージェントの一覧を確認できます。 個々のエージェント項目を選択すると、右画面に、設定された環境変数、エージェント設定及びに性能に関する情報を照会できます。

<ImgLang img='ipa-agent-list.png' desc='エージェントリスト' width="400" height="auto" />

エージェント一覧を更新するか、非活性化されたエージェントを再起動しても一覧に自動的に表示されない場合は、![更新アイコン](/img/ico-refresh.svg)ボタンを選択してください。

## エージェントおよびアプリケーションの詳細情報

画面の右側では、エージェントおよびアプリケーションに関する詳細情報を確認できます。 

- 右上のテキスト入力欄から希望する項目がフィルタリングできます。 

- モニタリング対象サーバーに位置するエージェントおよびアプリケーションの変更が自動的に反映されない場合は、![更新アイコン](/img/ico-refresh.svg)<Cmdname sid="refresh" className="uitext" />ボタンを選択してください。

### エージェント関連項目

#### <Cmdname sid="runtime_boot_env" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_bootEnvironmentVariable" className="uitext" />

<ProdImg img="ipa-run-env-var.png" desc="実行環境変数" />

エージェントの実行に関連する環境変数を照会できます。 エージェントバージョンやインストールパス、名前、IPアドレスなどを確認できます。

<InDoc product="golang,php">

#### <Cmdname sid="agent_status" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_agentStatus" className="uitext" />

<ProdImg img="ipa-agent-status.png" desc="エージェント状態" />

過去 1 日間にエージェントが使用したリソースの使用量を確認できます。

</InDoc>

#### <Cmdname sid="agent_log"/>

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_agentLog" className="uitext" />

<ProdImg img="ipa-agent-log.png" desc="エージェントログ" />

モニタリング対象サーバーに保存されているエージェントログを照会できます。 ログのファイル名は、_whatap-`YYYYMMDD`.log_形式です。 各ログを選択して、ログに含まれてあるエラーやイベントに関する情報が確認できます。

:::note

ログに関連するエージェント設定は、[次の文書](agent-log)を参考してください。

:::

<InDoc product="java,nodejs">

#### <Cmdname sid="agent_configuration" />

ホーム画面> プロジェクト選択> <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_agentSetting" className="uitext" /> <code class="oldfunc">Old</code>

モニタリング対象サーバーに位置する_whatap.conf_ファイルを直接修正することなく、エージェント設定オプションを追加、変更、または削除できます。

:::info

エージェント設定機能は、使用性と機能を改善した<Cmdname sid="side_management" className="uitext" /> > <Cmdname sid="side_agentSetting" className="uitext" />メニューの利用をお勧めします。 画面右上の<Cmdname sid="new_agents_setting" className="uitext" />ボタンを選択してください。 詳細については、[次の文書](set-agent#set-agent-service)を参考してください。

:::

</InDoc>

### アプリケーション関連項目

#### <Cmdname sid="side_environmentVariable" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_environmentVariable" className="uitext" />

<ProdImg img="ipa-env-var.png" desc="環境変数" />

アプリケーションの実行に関連する環境変数情報を照会できます。

<InDoc product="java">

#### <Cmdname sid="side_heapHistogram" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_heapHistogram" className="uitext" />

<ImgLang img='ipa-heap-histogram-java.png' desc='ヒープヒストグラム' />

JVM(Java仮想マシン)のメモリにロードされているヒープ占有オブジェクトの状況(ヒープメモリ上のオブジェクト別サイズ)を照会することができます。

:::note

Java 6~8バージョンでは、JVMオプションなしで標準対応しますが、一部のJavaバージョンによっては次のようにJVMオプションを適用する必要があります。

- Java 9 ~ Java 15バージョン

  ```bash
  -Djdk.attach.allowAttachSelf=true
  ```

  ```bash title="example"
  java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true -jar {application.jar}
  ```

- Java 16バージョン以降

  ```bash
  -Djdk.attach.allowAttachSelf=true
  --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED
  ```

  ```bash title="example"
  java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED -jar {application.jar}
  ```

- Java 5以前の旧バージョン、IBM Javaには対応していません。

:::

#### <Cmdname sid="side_loadedClasses" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_loadedClasses" className="uitext" />

<ImgLang img='ipa-loaded-class-java.png' desc='ロード済クラス' />

Javaアプリケーションにロードされたクラス情報を確認できます。

#### <Cmdname sid="side_libraryVersion" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_libraryVersion" className="uitext" />

<ImgLang img='ipa-library-version-java.png' desc='ライブラリバージョン' />

Javaアプリケーションを構成するライブラリのバージョンを確認できます。

#### <Cmdname sid="side_threadList" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_threadList" className="uitext" />

<ImgLang img='ipa-thread-list-java.png' desc='スレッドリスト/ダンプ' />

Javaプロセス内のすべてのスレッド状態に関するスナップショット情報を確認できます。 Javaアプリケーションの性能問題を分析するために利用できます。 スレッドリストから各スレッドの![拡張アイコン](/img/ico-expander.svg)ボタンを選択すると、スレッドダンプの詳細を確認できます。 詳細については[次の文書](#thread-details)を参照してください。

#### <Cmdname sid="side_openSocket" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_openSocket" className="uitext" />

<ImgLang img='ipa-open-socket-java.png' desc='ソケットオプーン数' />

JavaアプリケーションがTCP機能を実行するためにオープンしたソケット(Socket) 情報を確認できます。

#### <Cmdname sid="side_methodStat" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_methodStat" className="uitext" />

Javaアプリケーションで実行中のメソッド(Method)の詳細情報を確認できます。

#### <Cmdname sid="side_dataSourceStatus" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_dataSourceStatus" className="uitext" />

<ImgLang img='ipa-datasource-java.png' desc='データソース状態' />

データソース(DataSource)の状態を確認できます。

#### <Cmdname sid="side_systemGarbageCollection" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_systemGarbageCollection" className="uitext" />

<ImgLang img='ipa-system-gc-java.png' desc='システムGC' />

JVM(Java仮想マシン)のヒープ領域で 動的に割り当てたメモリのうち、不要になったメモリオブジェクト(garbage)を集めて削除することができます。 <Cmdname sid="run" className="uitext" />ボタンを選択するとGCプロセスが実行され、実行前後のメモリ容量が確認できます。

#### <Cmdname sid="side_heapDump" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_heapDump" className="uitext" />

<ImgLang img='ipa-heap-dump-java.png' desc='ヒープダンプ' />

Javaアプリケーションの実行中にメモリ漏れなどの問題が発生すると、関連した問題を整理してダンプファイルを作成できます。 <Cmdname sid="dump_heap" className="uitext" />ボタンを選択します。

:::note

この機能は、Javaエージェント1.5.2バージョン以降に対応しています。 エージェント設定で`heapdump_enabled`オプションを`true`に設定してください。 <Cmdname sid="dump_heap" className="uitext" />ボタンを選択して、ヒープダンプファイルを作成する機能を活性化します。 毎回ヒープダンプを自動作成するわけではなく、そのオプションが性能に影響を与えることはありません。 ただし、ダンプの確保作業は性能に影響を与える可能性があります。

ヒープダンプの確保作業は、負荷の大きい作業だと言えます。 負荷とは別に、ヒープダンプがすべて抽出されるまでアプリケーションのコードは実行中止(stop the world)になるため、ユーザーが感じる性能の差はさらに激しくなる可能性があります。

:::

#### <Cmdname sid="side_throttlingConfiguration" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_throttlingConfiguration" className="uitext" />

<ImgLang img='ipa-set-throttling-java.png' desc='スロットル設定' />

Javaアプリケーションの負荷量制御に関連するエージェント設定を確認し、オプションを設定できます。 負荷量制御に関するエージェント設定の詳細については、[次の文書](agent-load-amount)を参考してください。

</InDoc>

<InDoc product="golang,php">

#### <Cmdname sid="side_moduleDependency" />

ホーム画面 > プロジェクト選択 > <Cmdname sid="side_agentsConfiguration" className="uitext" /> > <Cmdname sid="side_moduleDependency" className="uitext" />

<ProdImg img="ipa-dependency-module-php.png" desc="モジュール依存性" />

アプリケーションで使用中のモジュール関連情報を照会することができます。

</InDoc>
