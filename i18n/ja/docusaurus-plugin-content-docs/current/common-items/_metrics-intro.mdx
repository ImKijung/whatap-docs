## メトリクスとは?

WhaTapは、モニタリング対象からデータを収集し、ユーザーに提供します。エージェントから収集されるデータを**メトリクス**と呼びます。 

<div style={{textAlign: 'center'}}>

<ImgLang img='metrics-overview.png' desc='Metrics overview' />

</div>

**メトリクス**は、次の情報で構成されています。

-   **_Category_**：関連する指標をまとめる単位です。
-   **_Tags_**：収集対象を区分できる固有情報を含むデータです。
-   **_Fields_**：エージェントから収集された指標です。
-   **_Time_**：メトリクスが収集された時間です。
-   **_Oid_**：メトリクスを収集したエージェントの固有番号です。
-   **_oname_**：メトリクスを収集したエージェントの名称です。

例えば、`app_counter`という名前の**_カテゴリ_**は、トランザクションに関するデータを含む**_カテゴリ_**です。この場合、`app_counter`**_カテゴリ_**を検索すると、トランザクションに関するメトリクスが確認できます。

![メトリクスapp_counter sc](/img/metrics-raw-data-table-java.png)

`app_counter`サンプルデータを見ると、同時刻(2023-04-06 05:00:00)に2つのエージェント`-1143239575`(`demo-8101`)、`-877561626`(`demo-8109`)から**_Tags_**(タグ)と**_Fields_**(フィールド)が収集されたことが確認できます。

## メトリクスチャートを表示する

**_プロジェクトメニュー_** > **_分析_** > **_メトリクスチャート_**

**_プロジェクト一覧_**からプロジェクトを選択した後、**_分析_**メニューから**_メトリクスチャート_**を選択してください。このメニューのモニタリング対象から収集されたメトリクスデータをチャートとして表示できます。

![metrics_chart_example](/img/metrics-chart-java.png)

-   表示までの**_時間_** (**必須**)
-   表示までの**_メトリクス_** (**必須**)
-   表示する**_モニタリング対象_** (**選択**、指定しない場合は全体)

メトリクスチャート画面の例では、選択した時間にモニタリング対象`-1143239575`(`demo-8101`)、`-877561626`(`demo-8109`)から収集したメトリクス(`TPS`)がチャートとして確認できます。この場合、収集サーバーは選択したメトリクスである`TPS`値をフィールドとして持ち、`app_counter`カテゴリのメトリクスを使用します。

## メトリクスRaw Dataを表示する

ホーム画面 > プロジェクト選択 > **_サイトマップ_** > **_メトリクス表示_**

メトリクスのRaw Dataを表示するためには、参照基準を選択する必要があります。 

![metrics_app_counter_example](/img/metrics-raw-data-java.png)

-   表示までの**_時間_** (**必須**)
-   表示する**_カテゴリ_** (**必須**)
-   表示する**_タグ_** (**選択**、指定しない場合は全体)
-   表示する**_フィールド_** (**を選択**、指定しない場合は全体)
