## 3rd partyプラグイン通知を追加する

Slack、Telegram、Teams、Jandi、Webhookなどの外部アプリケーションを通じてアラート通知を受信できます。

1. <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="eventNoti" className="uitext" />メニューで<Cmdname sid="3rd_party_plugin" className="uitext" />セクションの<Cmdname sid="adding" className="uitext" />ボタンを選択してください。

2. 目的のサービスを選択してください。

   <ImgLang img='set-event-3rd-party-plugin.png' desc='3rd partyプラグイン追加' />

3. 選択したサービスの画面の指示に従って、設定を進めてください。

4. すべてのプロセスが完了したら、追加ボタンを選択してください。

:::note

WhaTap Labsのサポート範囲に含まれていない社内メッセンジャーは、標準のWebhookとWebhook jsonを介してリンクできます。

:::

次の3rd partyプラグイン一覧で使用するアプリケーションに適した通知の追加方法を確認してください。

<details>

<summary>Slack</summary>

画面の下に<Cmdname sid="add_to_slack" className="uitext" />ボタンをクリックすると、Slackのチームおよびチャンネルに**WhaTapNotiBot**を登録することができます。

<ImgLang img='3rdparty/set-event-3rd-party-plugin-add-slack.png' desc='Slack' />

</details>

<details>

<summary>Telegram</summary>

1. **Telegram**から**@WhaTapApmNotiBot**を検索してください。

   <ImgLang img='3rdparty/set-event-3rd-party-plugin-add-telegram.png' desc='Telegram' />

2. アラート通知を受信するプロジェクトのアクセスキーをチャットウィンドウに入力します。

   <ImgLang img='3rdparty/set-event-3rd-party-plugin-add-telegram-license.png' desc='Telegram' />

:::note

以下は、使用可能なコマンドの一覧です。

- `/help`: コマンド一覧を表示する

- `/license`: 通知を受けるプロジェクトのアクセスキーを入力

- `/remove`: 通知を受けないプロジェクトコードを入力

- `/list`: 現在通知を受けているプロジェクトコードを表示する

:::

</details>

<details>

<summary>Teams</summary>

1. 通知を受けるチャンネルの**コネクター**設定へ移動してください。

   <ImgLang img="3rdparty/management_event_new_teams_step_01.png" className="width-200" desc="Teams" />

2. **Webhook**を追加し、**構成**ボタンをクリックして次のステップへ進んでください。

   <ImgLang img="3rdparty/management_event_new_teams_step_02.png" className="width-600" desc="Teams" />

3. Webhook名を入力してから**生成**ボタンをクリックしてください。

   <ImgLang img="3rdparty/management_event_new_teams_step_03.png" className="width-600" desc="Teams" />

4. 生成したWebhhok URLをコピーしてください。

   <ImgLang img="3rdparty/management_event_new_teams_step_04.png" className="width-600" desc="Teams" />

5. WhaTapモニタリングサービスの<Cmdname sid="TTL06656" className="uitext" />画面に戻って<UI>Channel Name</UI>と<UI>Webhook URL</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="登録" />

6. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

</details>

<details>

<summary>Jandi</summary>

1. アラート通知を受信するトピック、またはチャットから**Jandi Connect**設定へ移動してください。

2. **コネクト一覧**で<b>Webhook受信(Incoming Webhook)</b>項目で**連携**ボタンを選択してください。

   <ImgLang img="3rdparty/management_event_jandi_step_01.png" desc="Jandi" />

3. **連携**タブで**連携追加**ボタンを選択してください。

4. **Webhook URL登録**項目にWebhook URLをコピーしてください。

   <ImgLang img="3rdparty/management_event_jandi_step_02.png" desc="Jandi" />

5. WhaTapモニタリングサービスの<Cmdname sid="TTL06656" className="uitext" />画面に戻って<UI>Channel Name</UI>と<UI>Webhook URL</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="登録" />

6. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

</details>

<details>

<summary>AlertNow</summary>

1. **AlerNow**サービスに接続してから**Integration**メニューへ移動してください。

   <ImgLang img="3rdparty/management_event_alertnow_step_01.png" desc="AlertNow" className="width-200" />

2. **Integration**メニューの**インテグレーション生成**ボタンを選択してください。

   <ImgLang img="3rdparty/management_event_alertnow_step_02.png" desc="AlertNow" className="width-600" />

3. Integrationタイプから**WhaTap**を選択してください。

   ![AlerNow](/img/3rdparty/management_event_alertnow_step_03.png)

4. **Integration生成**画面で名前と名前の指定ルールを設定してください。

   <ImgLang img="3rdparty/management_event_alertnow_step_04.png" desc="AlertNow" className="width-600" />

5. **確認**ボタンを選択するとIntegrationが生成されます。

6. 生成されたIntegrationの一覧を確認し、該当のIntegration項目を選択してください。

   <ImgLang img="3rdparty/management_event_alertnow_step_05.png" desc="AlertNow" className="width-600" />

7. 詳細画面で**URL**項目の右側に、コピーするボタンを選択してURLをコピーしてください。

   <ImgLang img="3rdparty/management_event_alertnow_step_06.png" desc="AlertNow" className="width-600" />

8. WhaTapモニタリングサービスの<Cmdname sid="TTL06656" className="uitext" />画面に戻って<UI>Channel Name</UI>と<UI>Webhook URL</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="登録" />

9. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

</details>

<details>

<summary>Webhook</summary>

1. 通知を受けるWebhookを登録してください。登録したURLに、POST Methodで通知の`title`, `text`が転送されます。

   ![Webhook](/img/3rdparty/set-event-3rd-party-plugin-add-webhook.png)

2. <UI>Webhook Name</UI>と<UI>Webhook URL</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-webhook-options.png" className="width-600" desc="登録" />

3. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

</details>

<details>

<summary>Webhook JSON</summary>

1. 通知を受けるWebhookを登録してください。登録したURLに、POST Methodで通知データがJSON形で転送されます。

   ![Webhook](/img/3rdparty/set-event-3rd-party-plugin-add-webhook-json.png)

2. <UI>Webhook Name</UI>と<UI>Webhook URL</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-webhook-json-options.png" className="width-600" desc="登録" />

3. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

:::note

- イベント状態(`status`)は`on`, `off`, `disabled`, `acknowledge`のいずれかに区分され、サーバーモニタリングの状態情報(on/off)を持ちます。

- `level`は`None`, `Info`, `Warning`, `Critical`のいずれかに分類されます。

- Header値を追加するには<Cmdname sid="TTL06674" className="uitext" />を選択してください。

:::

</details>

<details>

<summary>Opsgenie</summary>

1. **Teams**メニューで通知を受信するチームを選択してから、**Integrations**メニューをクリックしてください。

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_01.png)

2. **Add Integration**ボタンを選択してください。

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_02.png)

3. Integration一覧で'API'を検索してから、選択してください。

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_03.png)

4. API名およびTeamを割り当てて各権限を設定してください。

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_04.png)

5. **Save Integration**ボタンを選択してください。

6. WhaTapモニタリングサービスの<Cmdname sid="TTL06656" className="uitext" />画面に戻って<UI>Name</UI>と<UI>API Key</UI>項目を入力してください。

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-opsgenie-options.png" className="width-600" desc="登録" />

7. <Cmdname sid="BTN06673" className="uitext" />ボタンを選択します。

</details>
