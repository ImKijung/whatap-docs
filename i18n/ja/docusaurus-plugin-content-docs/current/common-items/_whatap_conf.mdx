## whatap.confファイルを設定する

### 基本情報を入力する

圧縮を解いた`$WHATAP_HOME`パスに移動してください。_$WHATAP_HOME/whatap.conf_ファイルにアクセスキーとデータ収集サーバーのIPアドレスを入力してください。[WhaTapモニタリングサービス](https://service.whatap.io)画面に移動し<Cmdname sid="agent-setup-guide" className="uitext" />セクションの<Cmdname sid="JAVA-agent-setup-1-subject" className="uitext" />項目から**アクセスキー**、**収集サーバIPアドレス**値をコピーして貼り付けてください。

```ini title=$WHATAP_HOME/whatap.conf
license={アクセスキー}
whatap.server.host={収集サーバーIP}
```

:::note

_whantap.conf_ファイルの詳細については、[次の文書](set-agent)を参照してください。

:::

### セキュリティキーの設定{#security}

SQL変数、HTTPクエリを検索、Thread停止機能を使用する場合は、セキュリティキーを設定してください。

-   Javaエージェント2.2.2バージョン以降

    `$WHATAP_HOME`パスに_security.conf_ファイルを作成した後、次のように 6桁の英数字のパスワードを入力してください。

    ```ini title='security.conf'
    paramkey=ABCDEF # SQL変数およびHTTPクエリの検索
    threadkill=ABCDEF # Thread停止機能
    ```

-   Javaエージェント2.2.2バージョン未満

    `$WHATAP_HOME`パスに_paramkey.txt_ファイルを作成した後、次のように 6桁の英数字のパスワードを入力してください。

    ```ini title='paramkey.txt'
    ABCDEF # SQL変数およびHTTPクエリの検索、スレッド停止機能
    ```

:::tip

Javaエージェント 2.2.2 のバージョン未満から2.2.2バージョンにアップデートする場合、既存の_paramkey.txt_ファイルのキー値が _seuciry.conf_ファイルのキー値に自動的に適用されます。例えば、_paramkey.txt_に`FEDCBA`を使用して、バージョン2.2.2にアップデートした場合、_security.conf_ファイルには次のように適用されます。

```ini
paramkey=FEDCBA
threadkill=FEDCBA
```

_paramkey.txt_ファイルが存在しない場合、_security.conf_ファイルのキー値は、**WHATAP**というキー値で自動的に生成されます。

:::

:::note

-   SQLパラメータ情報記録に関連するエージェント設定は[次の文書](agent-dbsql#profile-sql-param)を参照してください。

-   HTTPパラメータ情報記録に係るエージェント設定は[次の文書](agent-transaction#profile_http_parameter)を参照してください。

:::
