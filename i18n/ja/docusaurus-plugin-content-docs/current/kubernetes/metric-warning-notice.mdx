---
id: metric-warning-notice
title: メトリックアラート通知
description: 特定の複雑なイベントを設定するには、メトリックイベント設定を使用します。
tags:
  - アラート通知
  - メトリクスイベント
  - Kubernetesモニタリング
---

{@include: ../common-items/_metrics-warning-notice.mdx} 

{@include: ../common-items/_composite-metrics-warning-notice.mdx}

{@include: ../common-items/_metrics-event-modify-delete.mdx}

{@include: ../common-items/_metrics-event-condition-select-target-guide.mdx}

## メトリクスイベントテンプレート{#k8s-metrics-event-template}

:::note 

クバネティスイベントの`reason`フィールドの詳細については、[クバネティス公式文書](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubelet/events/event.go#L27)を参照してください。 

:::

#### **_BackOff_**

Kubernetesイベントの`reason`フィールド情報中`BackOff`が0を超える場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。 

> Kubernetesイベント(Kube Event `${message}`)

#### **_Evicted_**

Kubernetesイベントの`reason`フィールド情報が`Evicted`が0回以上取得された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_FailedCreatePodSandBox_**

Kubernetesイベントの`reason`フィールド情報が`FailedCreatePodSandBox`が0回以上取得された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_FailedMount_**

Kubernetesイベントの`reason`フィールド情報が`FailedMount`が0回以上収集された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_FailedScheduling_**

Kubernetesイベントの`reason`フィールド情報が`FailedScheduling`が0回以上収集された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_FailedSync_**

Kubernetesイベントの`reason`フィールド情報が`FailedSync`が0回以上収集された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_NodeNotReady_**

Kubernetesイベントの`reason`フィールド情報が`NodeNotReady`が0回以上収集された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_Unhealthy_**

Kubernetesイベントの`reason`フィールド情報が`Unhealthy`が0回以上収集された場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> Kubernetesイベント(Kube Event `${message}`)

#### **_コンテナCPU割当てによる使用率アラート_**

コンテナのCPU Limit基準CPU全使用量(`${cpu_per_quota}`)が70%以上の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${okindName}`の`${oname}`コンテナのCPU使用率が「`${cpu_per_quota}`% >= 70%」でです。

#### **_コンテナメモリ失敗回数_**

コンテナメモリLimit到達件数が1 回以上の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${okindName}`の`${oname}`コンテナが limitを超えたため、`${mem_failcnt}`が増加しました。

#### **_コンテナメモリ使用率_**

コンテナメモリLimit基準使用量(`${container.mem_percent}`)が90%以上の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${okindName}`の`${oname}`コンテナのメモリ使用率は「`${container.mem_percent}`% >= 90%」です。

#### **_コンテナDEAD状態の通知_**

コンテナステータスコードが`100`の場合、通知が発生します。ステータスコード`100`は、`DEAD`を意味します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${oname}`コンテナが`DEAD`状態です。

#### **_クラスタCPU Request通知_**

ノードに割り当て可能なCPU量をLimit CPUの総合で割った値に100を掛けた値が80%以上の場合、通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> クラスタのCPUクォータに対してCPU Request(最低要求リソース)が80％を超えました。

#### **_クラスタMemory Request通知_**

ノードに割り当て可能なメモリ量をLimit Memory総合で割った値に100を掛けた値が80%以上の場合、通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> クラスタのMemoryクォータに対してMemory Request(最低要求リソース)が 80%を超えました。

#### **_クラスタCPU Request通知_**

ノードに割り当て可能なCPU量をLimit CPUの総合で割った値に100を掛けた値が60%以上の場合、通知がが発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> クラスタのCPUクォータに対してCPU Request(最低要求リソース)が60％を超えました。

#### **_クラスタMemory Request通知_**

ノードに割り当て可能なメモリ量をLimit Memory総合で割った値に100を掛けた値が60%以上の場合、通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> クラスタのMemoryクォータに対してMemory Request(最低要求リソース)が 60%を超えました。

#### **_クラスタPod数の通知_**

ノードに割り当て可能なPodが存在しない場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> マスターに割当てできるPodの数は0です。

#### **_ノードCPU使用率のアラート通知_**

ノードのCPU使用率(`${cpu}`)が70%以上の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${oname}`のCPU使用率が「`${cpu}`% >= 70%」です。

#### **_ノードメモリ使用率のアラート通知_**

ノードのメモリ使用率(`${memory_pused}`)が90%以上の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> `${oname}`のメモリ使用率が「`${memory_pused}`% >= 90%」です。

#### **_割り当てできないノード通知_**

ノードに割り当て可能なPod数が 0以下の場合、通知が発生します。 

#### **_APDEX_**

トランザクションが存在し、APDEXスコアが0.7点未満の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

ノードに割り当て可能なPod数が0個以下の場合、その通知が発生します。<Cmdname sid="message" className="uitext" />例は次のとおりです。

> APDEXが0.7未満です (`${oname}`)
